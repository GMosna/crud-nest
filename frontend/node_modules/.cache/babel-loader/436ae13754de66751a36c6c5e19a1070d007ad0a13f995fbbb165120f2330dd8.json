{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:3000/api/users';function App(){const[users,setUsers]=useState([]);const[name,setName]=useState('');const[email,setEmail]=useState('');const[age,setAge]=useState('');const[editId,setEditId]=useState(null);useEffect(()=>{getUsers();},[]);function getUsers(){fetch(API_URL).then(response=>response.json()).then(data=>setUsers(data));}function handleSubmit(event){event.preventDefault();const user={name,email,age};if(editId){fetch(API_URL+'/'+editId,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)}).then(()=>{getUsers();clearForm();});}else{fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)}).then(()=>{getUsers();clearForm();});}}function handleEdit(user){setName(user.name);setEmail(user.email);setAge(user.age);setEditId(user.id);}function handleDelete(id){fetch(API_URL+'/'+id,{method:'DELETE'}).then(()=>getUsers());}function clearForm(){setName('');setEmail('');setAge('');setEditId(null);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Usu\\xE1rios\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Nome\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Idade\",value:age,onChange:e=>setAge(e.target.value),required:true,type:\"number\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editId?'Atualizar':'Adicionar'}),editId&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearForm,children:\"Cancelar\"})]}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Idade\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.age}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(user),children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(user.id),children:\"Excluir\"})]})]},user.id))})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","API_URL","App","users","setUsers","name","setName","email","setEmail","age","setAge","editId","setEditId","getUsers","fetch","then","response","json","data","handleSubmit","event","preventDefault","user","method","headers","body","JSON","stringify","clearForm","handleEdit","id","handleDelete","children","onSubmit","placeholder","value","onChange","e","target","required","type","onClick","border","map"],"sources":["C:/Users/guilh/Downloads/CRUD-SQL-main/CRUD-SQL-main/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst API_URL = 'http://localhost:3000/api/users';\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [age, setAge] = useState('');\n  const [editId, setEditId] = useState(null);\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  function getUsers() {\n    fetch(API_URL)\n      .then(response => response.json())\n      .then(data => setUsers(data));\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const user = { name, email, age };\n    if (editId) {\n      fetch(API_URL + '/' + editId, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n      }).then(() => {\n        getUsers();\n        clearForm();\n      });\n    } else {\n      fetch(API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n      }).then(() => {\n        getUsers();\n        clearForm();\n      });\n    }\n  }\n\n  function handleEdit(user) {\n    setName(user.name);\n    setEmail(user.email);\n    setAge(user.age);\n    setEditId(user.id);\n  }\n\n  function handleDelete(id) {\n    fetch(API_URL + '/' + id, { method: 'DELETE' })\n      .then(() => getUsers());\n  }\n\n  function clearForm() {\n    setName('');\n    setEmail('');\n    setAge('');\n    setEditId(null);\n  }\n\n  return (\n    <div>\n      <h2>Usuários</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          placeholder=\"Nome\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n          required\n        />\n        <input\n          placeholder=\"Email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          required\n        />\n        <input\n          placeholder=\"Idade\"\n          value={age}\n          onChange={e => setAge(e.target.value)}\n          required\n          type=\"number\"\n        />\n        <button type=\"submit\">{editId ? 'Atualizar' : 'Adicionar'}</button>\n        {editId && <button type=\"button\" onClick={clearForm}>Cancelar</button>}\n      </form>\n      <table border=\"1\">\n        <thead>\n          <tr>\n            <th>Nome</th>\n            <th>Email</th>\n            <th>Idade</th>\n            <th>Ações</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map(user => (\n            <tr key={user.id}>\n              <td>{user.name}</td>\n              <td>{user.email}</td>\n              <td>{user.age}</td>\n              <td>\n                <button onClick={() => handleEdit(user)}>Editar</button>\n                <button onClick={() => handleDelete(user.id)}>Excluir</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}